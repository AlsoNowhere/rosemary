{"version":3,"file":"components.js","sources":["src/loading/loading.component.js","src/table/table.component.js","src/dropdown/dropdownitem.class.js","src/dropdown/dropdown.component.js","src/pagination/paginationv2.component.js","src/field/fieldv2.component.js","src/modal/modal.component.js","src/modeller-components/modeller-table/modeller-table.component.js","src/modeller-components/modeller-formv2/support/base-field.js","src/modeller-components/modeller-formv2/support/generate-fields.js","src/modeller-components/modeller-formv2/modeller-form2.component.js","src/main.js"],"sourcesContent":["import React from \"react\";\r\n\r\nexport const Loading = () => {\r\n\treturn (\r\n\t\t<svg viewBox=\"0 0 150 150\" className=\"block width height spin\">\r\n\t\t\t<circle cx=\"75\" cy=\"75\" r=\"60\" style={{fill:\"transparent\",stroke:\"#888\",strokeDasharray:300,strokeWidth:\"15px\",strokeLinecap:\"round\"}} />\r\n\t\t</svg>\r\n\t);\r\n}\r\n","import React from \"react\";\r\nimport { loggerService } from \"services\";\r\n\r\nexport class TableColumn {\r\n\tconstructor(name = \"\",\r\n\t\tlabel = \"\",\r\n\t\toptions){\r\n\t\tthis.name = typeof name !== \"string\" ? \"\" : name;\r\n\t\tthis.label = typeof label !== \"string\" ? \"\" : label;\r\n\t\tif (!options) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tif (options.headerContent) {\r\n\t\t\tthis.headerContent = options.headerContent;\r\n\t\t}\r\n\t\tif (options.cellContent) {\r\n\t\t\tthis.cellContent = options.cellContent;\r\n\t\t}\r\n\t\tif (options.headerStyles) {\r\n\t\t\tthis.headerStyles = options.headerStyles;\r\n\t\t}\r\n\t\tif (options.cellStyles) {\r\n\t\t\tthis.cellStyles = options.cellStyles;\r\n\t\t}\r\n\t\t// if (options.rowContent) {\r\n\t\t// \tthis.rowContent = options.rowContent;\r\n\t\t// }\r\n\t\tif (options.cellClick) {\r\n\t\t\tthis.cellClick = options.cellClick;\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport const Table = props => {\r\n\tconst columns = props.columns\r\n\t\t? props.columns.filter(x => x instanceof TableColumn)\r\n\t\t: [];\r\n\r\n\tconst rows = props.rows || [];\r\n\r\n\tconst rowStyles = props.rowStyles || {};\r\n\tconst rowClasses = props.rowClasses || \"\";\r\n\tconst cellClasses = props.cellClasses || \"\";\r\n\r\n\treturn (\r\n\t\t<div className=\"table-responsive-wrapper\">\r\n\t\t\t<table className=\"table\">\r\n\t\t\t\t<thead>\r\n\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t{columns.map((column,i)=>(\r\n\t\t\t\t\t\t\t<th style={column.headerStyles||{}} onClick={() => props.headerClick && props.headerClick(column,i)} key={i}>\r\n\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\tcolumn.headerContent\r\n\t\t\t\t\t\t\t\t\t\t? column.headerContent(column)\r\n\t\t\t\t\t\t\t\t\t\t: (<span>{column.label}</span>)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t</th>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</tr>\r\n\t\t\t\t</thead>\r\n\t\t\t\t<tbody>\r\n\t\t\t\t\t{rows.map((row,i)=>(\r\n                        <React.Fragment key={i}>\r\n\t\t\t\t\t\t\t{row.rowContent\r\n\t\t\t\t\t\t\t\t? row.rowContent()\r\n\t\t\t\t\t\t\t\t: (\r\n\t\t\t\t\t\t\t\t\t<tr className={rowClasses}\r\n\t\t\t\t\t\t\t\t\t\tstyle={{...rowStyles}}\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => props.rowClick && props.rowClick(row,i)}>\r\n\t\t\t\t\t\t\t\t\t\t{columns.map((column,j)=>(\r\n\t\t\t\t\t\t\t\t\t\t\t<td className={cellClasses}\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={column.cellStyles||{}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={event => column.cellClick && column.cellClick(event,row,column,i,j)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={j}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolumn.cellContent\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? column.cellContent(row,column,i,j)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: (<span>{row[column.name]}</span>)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t</td>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</tbody>\r\n\t\t\t</table>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport const TableContentRow = function(rowContent){\r\n\tif (!(rowContent instanceof Function)) {\r\n\t\treturn loggerService.error(\"TableContentRow - AFS-Components - table.component.js\",\r\n\t\t\t\"You must pass a function to the argument 'rowContent' prop.\");\r\n\t}\r\n\tthis.rowContent = rowContent;\r\n}\r\n","\r\nexport const DropdownItem = function(name, value){\r\n    this.name = name;\r\n    this.value = value;\r\n}\r\n","import React, { useState, useRef } from \"react\";\r\n\r\nimport { loggerService } from \"services\";\r\n\r\nimport { DropdownItem } from \"./dropdownitem.class\";\r\n\r\nexport const Dropdown = props => {\r\n    const button = useRef(null);\r\n    const [active,updateActive] = useState(false);\r\n    const [query,updateQuery] = useState(\"\");\r\n    const [hasFocus,updateHasFocus] = useState(false);\r\n\r\n    if (!(props.value === null || props.value instanceof DropdownItem)) {\r\n        const location = \"AFS-Components - Dropdown component - value prop\";\r\n        const error = \"You must pass an instance of DropdownItem or null as the value for the Dropdown component.\";\r\n        loggerService.error(location,error);\r\n        throw new Error(location + \" \" + error);\r\n    }\r\n\r\n    const value = props.value;\r\n    const placeholder = props.placeholder || \"\";\r\n    const label = props.label || \"\";\r\n\r\n    if (!(props.options instanceof Array)) {\r\n        loggerService.error(\"AFS-Components - Dropdown component - options prop\",\"You must pass an Array of DropdownItem objects to the options prop.\");\r\n        throw new Error(\"AFS-Components - Dropdown component - options prop. You must pass an Array of DropdownItem objects to the options prop.\");\r\n    }\r\n\r\n    const nonOptions = props.options.filter(x => !(x instanceof DropdownItem));\r\n\r\n    if (nonOptions.length > 0) {\r\n        loggerService.warn(\"AFS-Components - Dropdown component - options prop\",`There were ${nonOptions.length} options filtered from the list passed to the options Array.`);\r\n    }\r\n\r\n    const options = props.options\r\n        .filter(x => x instanceof DropdownItem)\r\n        .filter(x => x.name.toLowerCase().includes(query.toLowerCase()));\r\n    if (props.hasReset !== false) {\r\n        options.unshift({\r\n            name: \" - none - \",\r\n            value: \"\",\r\n            colour: \"transparent\",\r\n            initials: \"\"\r\n        });\r\n    }\r\n\r\n    const selectedIndex = props.value === null\r\n        ? null\r\n        : options.reduce((a,b,i) => {\r\n            return a !== null ? a : (props.value.value === b.value && props.value.name === b.name) ? i : a;\r\n        },null);\r\n\r\n    const name = props.name;\r\n    const required = props.required || false;\r\n    const disabled = props.disabled || false;\r\n\r\n    const toggleActive = () => {\r\n        updateActive(!active);\r\n    }\r\n\r\n    const selectOption = (option,active = false) => {\r\n        props && props.onChange && props.onChange(option.name === \" - none - \" ? null : option);\r\n        updateActive(active);\r\n        if (active === false) {\r\n            button.current.focus();\r\n        }\r\n    }\r\n\r\n    const dropdownConductSearch = function(){\r\n        let timeout;\r\n        return (value) => {\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(()=>{\r\n                updateQuery(value);\r\n            },300);\r\n        }\r\n    }();\r\n\r\n    const keyPressed = event => {\r\n        if (!hasFocus || !active) {\r\n            return;\r\n        }\r\n        const key = event.which;\r\n        if (key !== 38 && key !== 40 && key !== 13) {\r\n            return;\r\n        }\r\n        if (key === 13 && event.target.nodeName === \"INPUT\") {\r\n            // toggleActive();\r\n            // button.current.focus();\r\n        }\r\n        else if (key === 38) {\r\n            if (selectedIndex === null) {\r\n                selectOption(options[options.length-1],true);\r\n            }\r\n            else if (selectedIndex > (props.hasReset !== false ? 1 : 0)) {\r\n                selectOption(options[selectedIndex - 1],true);\r\n            }\r\n        }\r\n        else if (key === 40) {\r\n            if (selectedIndex === null) {\r\n                selectOption(options[props.hasReset !== false ? 1 : 0],true);\r\n            }\r\n            else if (selectedIndex < options.length - 1) {\r\n                selectOption(options[selectedIndex + 1],true);\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={`dropdown-component ${required?\"required\":\"\"}`}>\r\n            <span>{label}</span>\r\n            <button type=\"button\"\r\n                ref={button}\r\n                disabled={disabled}\r\n                onClick={() => toggleActive()}\r\n                onFocus={() => updateHasFocus(true)}\r\n                onBlur={() => updateHasFocus(false)}\r\n                onKeyUp={event => keyPressed(event)} >\r\n                <span className={value ? \"\" : \"text-grey\"}>{value === null ? placeholder : (value.name || placeholder)}</span>\r\n                <span className=\"caret fa fa-caret-down\"></span>\r\n            </button>\r\n            <input name={name}\r\n                tabIndex=\"-1\"\r\n                value={value === null ? \"\" : value.value}\r\n                required={required}\r\n                onChange={()=>{}} />\r\n            <ul className={`${active?\"active\":\"\"} ${props.noLabel?\"no-label\":\"label\"}`}>\r\n                {props.hasSearch !== false && (\r\n                    <li className=\"search\">\r\n                        <label>\r\n                            <input className=\"search\"\r\n                                tabIndex={active ? undefined : -1}\r\n                                placeholder=\"search...\"\r\n                                onChange={event => dropdownConductSearch(event.target.value)}\r\n                                onFocus={() => updateHasFocus(true)}\r\n                                onBlur={() => updateHasFocus(false)}\r\n                                onKeyUp={event => keyPressed(event)} />\r\n                        </label>\r\n                    </li>\r\n                )}\r\n                {options.map((x,i) => (\r\n                    // console.log(\"Pop: \", x),\r\n                    <li className={selectedIndex === i ? \"active\" : \"\"} onClick={() => selectOption(x)} key={i}>\r\n                        <span className={selectedIndex === i ? \"text-white\" : \"\"}>{x.name}</span>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst multiSelectConductSearch = function(){\r\n    let timeout;\r\n    return (query,allOptions,updateOptions) => {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(()=>{\r\n            const newOptions = allOptions.filter(x=>x.name.toLowerCase().includes(query.toLowerCase()));\r\n            updateOptions(newOptions);\r\n        },300);\r\n    }\r\n}();\r\n\r\nexport const MultiSelect = props => {\r\n\r\n    const input = useRef(null);\r\n\r\n    const [active,updateActive] = useState(false);\r\n    const values = props.values;\r\n    const label = props.label || \"\";\r\n\r\n    if (!(props.options instanceof Array)) {\r\n        loggerService.error(\"AFS-Components - Dropdown component - options prop\",\"You must pass an Array of DropdownItem objects to the options prop.\");\r\n        throw new Error(\"AFS-Components - Dropdown component - options prop. You must pass an Array of DropdownItem objects to the options prop.\");\r\n    }\r\n\r\n    const [options,updateOptions] = useState(function(){\r\n        return props.options.filter(x=>x instanceof DropdownItem).map(x=>x) || [];\r\n    }());\r\n\r\n    const name = props.name;\r\n    const disabled = props.disabled || false;\r\n\r\n    const toggleActive = () => {\r\n        updateActive(!active);\r\n    }\r\n\r\n    const selectOption = option => {\r\n        const index = values.reduce((a,b,i)=>option.name===b.name?i:a,null);\r\n        index === null\r\n            ? values.push({name:option.name,value:option.value})\r\n            : values.splice(index,1);\r\n        input.current.value = JSON.stringify(values);\r\n        props.updateParent(values);\r\n        updateActive(false);\r\n    }\r\n\r\n    return (\r\n        <div className=\"multi-select-component\">\r\n            <span>{label}</span>\r\n            <div className={`${disabled?\"disabled\":\"\"}`} onClick={toggleActive}>\r\n                {values instanceof Array && values.map((x,i)=>(\r\n                    <div className=\"select-item\" key={i}>\r\n                        <span>{x.name}</span>\r\n                        <button type=\"button\" onClick={e=>{e.stopPropagation();props.updateParent((values.splice(i,1),values.map(x=>x)))}}>\r\n                            <span className=\"fa fa-times\"></span>\r\n                        </button>\r\n                    </div>\r\n                ))}\r\n                <span className=\"caret fa fa-caret-down\"></span>\r\n            </div>\r\n            <input name={name} tabIndex=\"-1\" ref={input} />\r\n            <ul className={`${active?\"active\":\"\"}`}>\r\n                <li className=\"search\">\r\n                    <label>\r\n                        <input className=\"search\" tabIndex=\"-1\" placeholder=\"search...\" onChange={e=>multiSelectConductSearch(e.target.value,props.options,updateOptions)} />\r\n                    </label>\r\n                </li>\r\n                {options.map((x,i) => (\r\n                    <li onClick={()=>selectOption(x)} key={i}>\r\n                        <span>{x.name}</span>\r\n                    </li>\r\n                ))}\r\n            </ul>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport { DropdownItem } from \"../dropdown/dropdownitem.class\";\r\nimport { Dropdown } from \"../dropdown/dropdown.component\";\r\n\r\nconst sizeEitherSide = 2;\r\n\r\nconst generatePages = (total,resultsPerPage,currentPage) => {\r\n    const list = [1];\r\n    if (total === 0) {\r\n        return list;\r\n    }\r\n    const end = Math.ceil(total / resultsPerPage);\r\n    for (let i = currentPage - sizeEitherSide ; i <= currentPage + sizeEitherSide ; i++) {\r\n        if (i > 0 && i < end) {\r\n            i !== 1 && list.push(i);\r\n        }\r\n    }\r\n    if (list.find(x => x === end) === undefined) {\r\n        list.push(end);\r\n    }\r\n    if (list.length > 1 && list[1] !== 2) {\r\n        list.splice(1,0,\"...\");\r\n    }\r\n    if (list.length > 1 && list[list.length-2] !== (list[list.length-1] - 1)) {\r\n        list.splice(list.length-1,0,\"...\");\r\n    }\r\n\r\n    return list;\r\n}\r\n\r\nconst resultsPerPageOptions = [5,10,20,50];\r\nconst resultsPerPageOptionsForDropdown = resultsPerPageOptions.map(x => new DropdownItem(x.toString(),x.toString()));\r\n\r\nexport const Paginationv2 = props => {\r\n\r\n    if (props.total !== undefined && typeof props.total !== \"number\") {\r\n        throw new Error(\"For total, you must either pass a number or leave the prop undefined.\");\r\n    }\r\n    const total = parseInt(props.total) || 0;\r\n\r\n    if (props._inheritence === undefined) {\r\n        throw new Error(\"You must pass an _inheritence prop with an inheritor object from services\");\r\n    }\r\n\r\n    if (props._inheritence.currentPage === undefined) {\r\n        throw new Error(\"You must pass the current page and current page updater on the _inheritence\");\r\n    }\r\n\r\n    if (props._inheritence.resultsPerPage === undefined) {\r\n        throw new Error(\"You must pass the results per page and results per page updater on the _inheritence\");\r\n    }\r\n\r\n    const currentPage = props._inheritence.currentPage;\r\n\r\n    if (currentPage < 1) {\r\n        throw new Error(\"The current page cannot be less than 1\");\r\n    }\r\n\r\n    const _resultsPerPage = props._inheritence.resultsPerPage;\r\n    const resultsPerPage = new DropdownItem(_resultsPerPage,_resultsPerPage);\r\n\r\n    const changePage = page => {\r\n        props._inheritence.currentPage = page;\r\n    }\r\n\r\n    const list = generatePages(total,resultsPerPage.value,currentPage);\r\n\r\n    const changeResultsPerPage = resultsPer => {\r\n        props._inheritence.resultsPerPage = resultsPer.value;\r\n        if (currentPage > Math.ceil(total / resultsPer.value)) {\r\n            props._inheritence.currentPage = 1;\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"flex\">\r\n            <ul className=\"reset-list flex\">\r\n                {list.map((x,i) => (\r\n                    <li className={`line-height-large margin-right ${x === currentPage ? \"active\" : \"\"}`}\r\n                        onClick={()=>changePage(x)}\r\n                        key={i}>\r\n                            {x === \"...\"\r\n                                ? (\r\n                                    <span>{x}</span>\r\n                                ) : (\r\n                                    <button type=\"button\"\r\n                                        className={\"large padded \" + (x === currentPage ? \"grey\" : \"\")}\r\n                                        style={{minWidth:\"44px\"}}\r\n                                        onClick={() => changePage(x)}>{x}</button>\r\n                                )}\r\n                        </li>\r\n                ))}\r\n            </ul>\r\n            <div style={{width:\"120px\"}}>\r\n                <Dropdown options={resultsPerPageOptionsForDropdown}\r\n                    value={resultsPerPage}\r\n                    hasReset={false}\r\n                    hasSearch={false}\r\n                    noLabel={true}\r\n                    onChange={value => changeResultsPerPage(value)} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n","import React from \"react\";\r\nimport { Dropdown } from \"../dropdown/dropdown.component\";\r\n\r\nconst WarningMessage = props => (<span className=\"validator-error\">{props.message}</span>)\r\n\r\n// ** Props object AND types AND defaults **\r\n// ** KEY -> ! must have, ? could have\r\n// .label? | string | \"\"\r\n// .type? | string | \"\"\r\n// .name? | string | \"\"\r\n// .className? | string | \"\"\r\n// .required? | boolean | false\r\n// .disabled? | boolean | false\r\n// .options(? if any type including select. ! if dropdown) | Array | []\r\n// .placeholder? | string | \"\"\r\n// .value? | any | undefined\r\n// .valid? | {valid:boolean,message:string} | {valid:true,message:\"\"}\r\n// .onChange? | ()=>{} | undefined\r\n// ** end **\r\n\r\nexport const Field2 = props => {\r\n\r\n    const label = props.label || \"\";\r\n    const type = props.type || \"text\";\r\n    const name = props.name || \"\";\r\n    const className = props.className || \"\";\r\n    const required = props.required || false;\r\n    const disabled = props.disabled || false;\r\n    const options = props.options || [];\r\n    const placeholder = props.placeholder || \"\";\r\n    const isTextarea = type === \"textarea\";\r\n    const isSelect = type === \"select\";\r\n    const valid = props.valid || {valid:true,message:\"\"};\r\n    const updateValue = newValue => {\r\n        props.onChange && props.onChange(newValue);\r\n    }\r\n    const onChange = event => updateValue(event.target.value);\r\n\r\n    let value = props.value;\r\n\r\n    if (type !== \"radio\") {\r\n        value = function(){\r\n            return props.value === undefined\r\n                ? \"\"\r\n                : props.value;\r\n        }();\r\n    }\r\n\r\n    let checked = false;\r\n    if (type === \"radio\" || type === \"checkbox\") {\r\n        checked = props.checked || false;\r\n    }\r\n\r\n    // const Label = props => (\r\n    //     <label className={`${type === \"checkbox\" || type === \"radio\" ? type : \"\"} ${required && type !== \"radio\" ? \"required\" : \"\"} ${className}`}>\r\n    //         {typeof label === \"function\"\r\n    //             ? label()\r\n    //             : (<span>{label}</span>)\r\n    //         }\r\n    //         {props.children}\r\n    //     </label>\r\n    // );\r\n\r\n    const fieldProps = {\r\n        type,\r\n        name,\r\n        required,\r\n        disabled,\r\n        placeholder\r\n    };\r\n\r\n    if (type === \"checkbox\" || type === \"radio\") {\r\n        return (\r\n            <label className={`${type === \"checkbox\" || type === \"radio\" ? type : \"\"} ${required && type !== \"radio\" ? \"required\" : \"\"} ${className}`}>\r\n                {typeof label === \"function\"\r\n                    ? label()\r\n                    : (<span>{label}</span>)\r\n                }\r\n                <input {...fieldProps}\r\n                    className={type}\r\n                    value={type === \"radio\" ? value : false}\r\n                    checked={checked}\r\n                    onChange={event => updateValue(event.target.checked)} />\r\n                <span className=\"check bottom no-top\">\r\n                    <svg className=\"middle\" viewBox=\"0 0 24 24\">\r\n                        <g>\r\n                            {type === \"checkbox\"\r\n                                ? (<path style={{ fill: \"#444\" }} d=\"M 19.28125 5.28125 L 9 15.5625 L 4.71875 11.28125 L 3.28125 12.71875 L 8.28125 17.71875 L 9 18.40625 L 9.71875 17.71875 L 20.71875 6.71875 Z \" />)\r\n                                : (<circle cx=\"12\" cy=\"12\" r=\"8\" style={{ fill: \"#444\" }} />)}\r\n                        </g>\r\n                    </svg>\r\n                </span>\r\n            </label>\r\n        );\r\n    }\r\n    else if (isTextarea) {\r\n        return (\r\n            <label className={`${type === \"checkbox\" || type === \"radio\" ? type : \"\"} ${required && type !== \"radio\" ? \"required\" : \"\"} ${className}`}>\r\n                {typeof label === \"function\"\r\n                    ? label()\r\n                    : (<span>{label}</span>)\r\n                }\r\n                <textarea {...fieldProps}\r\n                    value={value}\r\n                    onChange={onChange}></textarea>\r\n                {!valid.valid && (<WarningMessage message={valid.message} />)}\r\n            </label>\r\n        );\r\n    }\r\n    else if (isSelect) {\r\n        return (\r\n            <label className={`${type === \"checkbox\" || type === \"radio\" ? type : \"\"} ${required && type !== \"radio\" ? \"required\" : \"\"} ${className}`}>\r\n                {typeof label === \"function\"\r\n                    ? label()\r\n                    : (<span>{label}</span>)\r\n                }\r\n                <select {...fieldProps}\r\n                    value={value}\r\n                    onChange={onChange}>\r\n                    {\r\n                        options.map((x, i) => (<option value={x.value} key={i}>{x.name}</option>))\r\n                    }\r\n                </select>\r\n                {!valid.valid && (<WarningMessage message={valid.message} />)}\r\n            </label>\r\n        );\r\n    }\r\n    else if (type === \"dropdown\") {\r\n        return (\r\n            <Dropdown {...fieldProps}\r\n                label={label}\r\n                value={value}\r\n                onChange={value => updateValue(value)}\r\n                options={options} />\r\n        );\r\n    }\r\n    else if (type === \"file\") {\r\n        return (\r\n            <label className={`${type === \"checkbox\" || type === \"radio\" ? type : \"\"} ${required && type !== \"radio\" ? \"required\" : \"\"} ${className}`}>\r\n                {typeof label === \"function\"\r\n                    ? label()\r\n                    : (<span>{label}</span>)\r\n                }\r\n                <input {...fieldProps}\r\n                    onChange={event => updateValue(event.target.files)} />\r\n                {!valid.valid && (<WarningMessage message={valid.message} />)}\r\n                <span className=\"for-file\">Click to attach a file</span>\r\n                {value && value.image.type === \"image/jpeg\" && (<img src={value.renderString} />)}\r\n            </label>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <label className={`${type === \"checkbox\" || type === \"radio\" ? type : \"\"} ${required && type !== \"radio\" ? \"required\" : \"\"} ${className}`}>\r\n            {typeof label === \"function\"\r\n                ? label()\r\n                : (<span>{label}</span>)\r\n            }\r\n            <input {...fieldProps}\r\n                value={value}\r\n                onChange={event => updateValue(event.target.value)} />\r\n            {!valid.valid && (<WarningMessage message={valid.message} />)}\r\n        </label>\r\n    );\r\n}\r\n","import React from \"react\";\r\n\r\nexport const closeModal = update => {\r\n    update(\"closing\");\r\n    setTimeout(()=>{\r\n        update(\"\");\r\n    },300);\r\n}\r\n\r\nexport const Modal = props => {\r\n\r\n    const state = props.state || \"\";\r\n    const label = props.label || \"\";\r\n    const full = props.full === true;\r\n    const extraClasses = props.className || \"\";\r\n\r\n    const closeOnClickOnBackground = props.closeOnClickOnBackground || false;\r\n\r\n    const isFull = () => full ? \"full\" : \"\";\r\n    const checkState = () => state === \"open\"\r\n        ? \"visible\"\r\n        : state === \"closing\"\r\n            ? \"visible closing\"\r\n            : \"\";\r\n\r\n    return (\r\n        <article className={`modal ${isFull()} ${checkState()} ${extraClasses}`} onClick={()=>closeOnClickOnBackground && closeModal(props.update)}>\r\n            <div className=\"content\" onClick={e => e.stopPropagation()}>\r\n                <header>\r\n                    <h2>{label}</h2>\r\n                    <button type=\"button\" onClick={()=>closeModal(props.update)}></button>\r\n                </header>\r\n                {props.children}\r\n            </div>\r\n        </article>\r\n    )\r\n}\r\n","import React from \"react\";\r\n\r\nimport { modeller, loggerService } from \"services\";\r\n\r\nimport { Table, TableColumn, TableContentRow } from \"../../table/table.component\";\r\n\r\nexport const ModellerTable = props => {\r\n\r\n    const model = props.model;\r\n\r\n    const errorLocation = \"AFS-Components - Modeller Table - model prop\";\r\n\r\n    if (!(model instanceof Function) || !((new model()) instanceof modeller.Modeller)) {\r\n        const error = \"You must pass an instance of modeller.Modeller to use this component.\";\r\n        loggerService.error(errorLocation, error);\r\n        throw new Error(errorLocation + \" \" + error);\r\n    }\r\n\r\n    if (!(props.extendColumns instanceof Array) && props.extendColumns !== undefined) {\r\n        const error = \"You must pass an Array or 'undefined' to the extendColumns prop.\";\r\n        loggerService.error(errorLocation, error);\r\n        throw new Error(errorLocation + \" \" + error);\r\n    }\r\n\r\n    const extendColumns = props.extendColumns || [];\r\n\r\n    const rowStyles = props.rowStyles || {};\r\n    const rowClasses = props.rowClasses || \"\";\r\n    const cellClasses = props.cellClasses || \"\";\r\n\r\n    const columns = function(){\r\n        const columns = [...extendColumns];\r\n        const newContext = new (model ? model : props.model)();\r\n        const aliases = newContext.getAliases();\r\n        const options = newContext.getOptions();\r\n        Object.keys(newContext).reduce((a,b)=>{\r\n            if (options && options[b] && typeof options[b].hide === \"boolean\" && options[b].hide) {\r\n                return a;\r\n            }\r\n            if (props.overwrites && props.overwrites[b] && props.overwrites[b].hide) {\r\n                return a;\r\n            }\r\n            a.push(b);\r\n            return a;\r\n        },[]).reverse().forEach(x=>{\r\n            columns.unshift(\r\n                props.overwrites && props.overwrites[x] && props.overwrites[x].tableColumn && props.overwrites[x].tableColumn instanceof TableColumn\r\n                ? props.overwrites[x].tableColumn\r\n                : new TableColumn(x,aliases[x],function(){\r\n                    if (typeof newContext[x] === \"boolean\") {\r\n                        return {\r\n                            cellContent: (row,column) => (<span className={`fa fa-${row[column.name]?\"check\":\"times\"}`}></span>)\r\n                        };\r\n                    }\r\n                }())\r\n            );\r\n        });\r\n        return columns;\r\n    }();\r\n\r\n    if (!(props.rows instanceof Array)) {\r\n        const location = \"AFS-Components - Modeller Table - rows prop\";\r\n        const error = \"You must pass an Array to the 'rows' prop. (This Array must be made up of instances of the constructor function you are passing to the 'model' prop.\";\r\n        loggerService.error(location, error);\r\n        throw new Error(location + \" \" + error);\r\n    }\r\n\r\n    const rows = props.rows.filter(x => x instanceof model || x instanceof TableContentRow);\r\n\r\n    const outgoingProps = {columns,rows};\r\n\r\n    if (props.rowClick) {\r\n        outgoingProps.rowClick = props.rowClick;\r\n    }\r\n    if (rowStyles) {\r\n        outgoingProps.rowStyles = rowStyles;\r\n    }\r\n    if (rowClasses) {\r\n        outgoingProps.rowClasses = rowClasses;\r\n    }\r\n    if (cellClasses) {\r\n        outgoingProps.cellClasses = cellClasses;\r\n    }\r\n    if (props.headerClick) {\r\n        outgoingProps.headerClick = props.headerClick;\r\n    }\r\n\r\n    return (\r\n        <Table {...outgoingProps} />\r\n    )\r\n}\r\n","import React from \"react\";\r\n\r\nimport { Field2 } from \"../../../field/fieldv2.component\";\r\nimport { DropdownItem } from \"../../../dropdown/dropdownitem.class\";\r\n\r\nconst isRequired = (model,field) => {\r\n    const validators = model.validators;\r\n    const required = validators[field] && validators[field].rules.find(x => x.type === \"required\");\r\n    return required === undefined ? false : !required.not;\r\n}\r\n\r\nexport const baseField = (name,type,alias,formValues,currentFormObject,props,overwrites,model,options,i,validChecks) => {\r\n    const extraProps = {};\r\n    extraProps[(type === \"checkbox\" || type === \"radio\") ? \"checked\" : \"value\"] = currentFormObject[name];\r\n    if (options instanceof Array) {\r\n        extraProps.options = options;\r\n    }\r\n    if (type === \"dropdown\" && !(currentFormObject[name] instanceof DropdownItem) && currentFormObject[name] !== null) {\r\n        const valueFromOptions = extraProps.options.find(x => x.value === currentFormObject[name]);\r\n        extraProps.value = valueFromOptions || null;\r\n    }\r\n    return (\r\n        <Field2 name={name}\r\n            type={type}\r\n            label={alias}\r\n            className={overwrites[name] && overwrites[name].className}\r\n            {...extraProps}\r\n            required={isRequired(model,name)}\r\n            disabled={overwrites[name] && overwrites[name].disabled}\r\n            valid={validChecks[name]}\r\n            onChange={value => {\r\n                currentFormObject[name] = value;\r\n                props._inheritence && props._inheritence.formValues\r\n                    ? props._inheritence.formValues = Object.assign(new model(), formValues)\r\n                    : props.updateFormValues(Object.assign(new model(), formValues));\r\n            }}\r\n            key={i} />\r\n    );\r\n};\r\n","import React from \"react\";\r\n\r\nimport { modeller } from \"services\";\r\n\r\nimport { DropdownItem } from \"../../../dropdown/dropdownitem.class\";\r\n\r\nimport { baseField } from \"./base-field\";\r\n\r\nexport const generateField = (props,model,formValues,currentFormObject,overwrites,fields,validChecks) => (x,i) => {\r\n    let type = \"text\";\r\n    let options = false;\r\n    let hide = false;\r\n    const aliases = model.aliases;\r\n    const propertyOptions = model.options[x];\r\n\r\n    if (typeof fields[x] === \"boolean\") {\r\n        type = \"checkbox\";\r\n    }\r\n    if (typeof fields[x] === \"number\") {\r\n        type = \"number\";\r\n    }\r\n\r\n    if (!!propertyOptions) {\r\n        if (typeof propertyOptions.type === \"string\") {\r\n            type = propertyOptions.type;\r\n        }\r\n        if (typeof propertyOptions.hide === \"boolean\") {\r\n            hide = propertyOptions.hide;\r\n        }\r\n    }\r\n\r\n    if (fields[x] instanceof modeller.Single) {\r\n        const contextOptions = fields[x].options;\r\n        const context = new (fields[x].context)();\r\n\r\n        if (!!contextOptions) {\r\n            if (contextOptions.options instanceof Array) {\r\n                if (!(contextOptions.options[0] instanceof DropdownItem) && typeof contextOptions.options[1] === \"string\") {\r\n                    options = contextOptions.options[0][contextOptions.options[1]];\r\n                }\r\n                else {\r\n                    options = contextOptions.options.filter(x=>x instanceof DropdownItem);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (context instanceof DropdownItem) {\r\n            type = \"dropdown\";\r\n        }\r\n        else if (context instanceof Date) {\r\n            type = \"date\";\r\n            if (!(formValues[x] instanceof Date)) {\r\n                formValues[x] = \"\";\r\n            }\r\n        }\r\n        else {\r\n            formValues[x] = formValues[x] instanceof modeller.Single ? context : formValues[x];\r\n            overwrites[x] = overwrites[x] || {};\r\n            return Object.keys(context).map((y,j)=>generateField(props,model,formValues,formValues[x],overwrites[x],context,validChecks)(y,j));\r\n        }\r\n    }\r\n\r\n    if (overwrites[x]) {\r\n        if (typeof overwrites[x].type === \"string\") {\r\n            type = overwrites[x].type;\r\n        }\r\n        if (overwrites[x].options instanceof Array) {\r\n            options = overwrites[x].options.filter(x => x instanceof DropdownItem);\r\n        }\r\n        if (typeof overwrites[x].hide === \"boolean\") {\r\n            hide = overwrites[x].hide;\r\n        }\r\n    }\r\n\r\n    if (hide === true) {\r\n        return (<span key={i}></span>);\r\n    }\r\n\r\n    return baseField(x,type,aliases[x],formValues,currentFormObject,props,overwrites,model,options,i,validChecks);\r\n}\r\n","import React, { useState, useRef } from \"react\";\r\n\r\nimport { modeller, loggerService, goError, validation2 } from \"services\";\r\n\r\nimport { Loading } from \"../../loading/loading.component\";\r\n\r\nimport { generateField } from \"./support/generate-fields\";\r\n\r\nexport const ModellerForm2 = props => {\r\n\r\n    const form = useRef(null);\r\n\r\n// Validate the name from props.\r\n    if (!props.name || typeof props.name !== \"string\") {\r\n        goError(\"AFS-Components - Modeller Form - name prop\",\"You must pass a name for the form.\")\r\n    }\r\n    const name = props.name;\r\n\r\n// Validate the model from props.\r\n    if (!(props.model instanceof Function) || !((new props.model()) instanceof modeller.Modeller)) {\r\n        goError(\"AFS-Components - Modeller Form - model prop\",\"You must pass an instance of modeller.Modeller to use this component.\");\r\n    }\r\n    if (props.model.type === \"abstract\") {\r\n        // return loggerService.error(\"AFS-Components - Modeller Form - model prop\",`The Model you have provided is an Abstract model and cannot be used (${props.model.name})`);\r\n        goError(\"AFS-Components - Modeller Form - model prop\",`The Model you have provided is an Abstract model and cannot be used (${props.model.name})`);\r\n    }\r\n    const model = props.model;\r\n\r\n// Validate the formValues from props.\r\n    if (!((props._inheritence ? props._inheritence.formValues : props.formValues) instanceof model)) {\r\n        // return loggerService.error(\"AFS-Components - Modeller Form - formValues prop\",\"You must pass an instance of the model you have provided for the formValues prop.\");\r\n        goError(\"AFS-Components - Modeller Form - formValues prop\",\"You must pass an instance of the model you have provided for the formValues prop.\");\r\n    }\r\n    const formValues = props._inheritence ? props._inheritence.formValues : props.formValues;\r\n\r\n// Validate the footerContent from props.\r\n    if (props.footerContent !== undefined && typeof props.footerContent !== \"function\") {\r\n        return loggerService.error(\"AFS-Components - Modeller Form - footerContent prop\",\"You pass a function for the prop footerContent or undefined.\");\r\n    }\r\n    const footerContent = props.footerContent;\r\n\r\n// Validate the submitLabel from props.\r\n    if (props.submitLabel !== undefined && typeof props.submitLabel !== \"string\") {\r\n        loggerService.warn(\"Props submitLabel should be a string. Value passed was ignored here.\");\r\n    }\r\n    const submitLabel = typeof props.submitLabel === \"string\" ? props.submitLabel : \"Submit\";\r\n\r\n// Validate the cancel from props.\r\n    if (props.cancel !== undefined && !(props.cancel instanceof Function)) {\r\n        goError(\"AFS-Components - Modeller Form - cancel prop\",\"You pass a function for the prop cancel or undefined.\");\r\n    }\r\n    const cancel = props.cancel ? props.cancel : undefined;\r\n\r\n// Validate the loading from props.\r\n    if (typeof (props._inheritence ? props._inheritence.loading : props.loading) !== \"boolean\"\r\n        && (props._inheritence ? props._inheritence.loading : props.loading) !== undefined) {\r\n        goError(\"AFS-Components - Modeller Form - loading prop\",\"You pass a boolean for the prop loading or undefined.\");\r\n    }\r\n    const loading = (props._inheritence ? props._inheritence.loading : props.loading);\r\n\r\n    const newContext = new (model ? model : props.model)();\r\n    const [fields] = useState(newContext);\r\n    const structure = props.structure || (fields ? Object.keys(fields).map(x => ({column:\"grid_small-12\",fields:[x]})) : []);\r\n    const overwrites = props.overwrites || {};\r\n    const [validChecks,setValidChecks] = useState(Object.keys(newContext).reduce((a,b)=>(a[b]={valid:true,message:\"\"},a),{}));\r\n\r\n    const onSubmit = event => {\r\n        event.preventDefault();\r\n        const newValidChecks = validation2(formValues,model,validChecks);\r\n        setValidChecks(newValidChecks);\r\n        const valid = Object.keys(newValidChecks).reduce((a,b)=>a?newValidChecks[b].valid:a,true);\r\n        valid && props.onSubmit && props.onSubmit();\r\n    };\r\n\r\n    return (\r\n        <form name={name}\r\n            className=\"flex\"\r\n            autoComplete=\"off\"\r\n            ref={form}\r\n            onSubmit={event => onSubmit(event)}\r\n            >\r\n            {props.topContent && props.topContent}\r\n\r\n            {structure.map((y,j)=>(\r\n                <div className={y.column} key={j}>\r\n                    {y.fields.map(generateField(props,model,formValues,formValues,overwrites,fields,validChecks))}\r\n                </div>\r\n            ))}\r\n            \r\n            {footerContent\r\n                ? footerContent()\r\n                : (\r\n                    <div className=\"flex\">\r\n                        <button className=\"large margin-right\">{submitLabel}</button>\r\n                        {!!cancel && (\r\n                            <button type=\"button\" className=\"grey large margin-right\" onClick={cancel}>Cancel</button>\r\n                        )}\r\n                        {loading && (<span className=\"padding\"><Loading /></span>)}\r\n                    </div>\r\n                )}\r\n        </form>\r\n    );\r\n};\r\n","\r\nimport React from \"react\";\r\n\r\nimport { Loading as _Loading } from \"./loading/loading.component\";\r\n\r\nimport { Table as _Table,\r\n    TableColumn as _TableColumn,\r\n    TableContentRow as _TableContentRow } from \"./table/table.component\";\r\n\r\nimport { Paginationv2 as _Paginationv2 } from \"./pagination/paginationv2.component\";\r\n\r\nimport { Field2 as _Field2 } from \"./field/fieldv2.component\";\r\n\r\nimport { Dropdown as _Dropdown,\r\n    MultiSelect as _MultiSelect} from \"./dropdown/dropdown.component\";\r\n\r\nimport { DropdownItem as _DropdownItem } from \"./dropdown/dropdownitem.class\";\r\n\r\nimport { closeModal as _closeModal,\r\n    Modal as _Modal } from \"./modal/modal.component\";\r\n\r\nimport { modeller as _modeller } from \"services\";\r\nimport { ModellerTable as _ModellerTable } from \"./modeller-components/modeller-table/modeller-table.component\";\r\nimport { ModellerForm2 as _ModellerForm2 } from \"./modeller-components/modeller-formv2/modeller-form2.component\";\r\n\r\n\r\n\r\nexport const Loading = _Loading;\r\n\r\nexport const Table = _Table;\r\nexport const TableColumn = _TableColumn;\r\nexport const TableContentRow = _TableContentRow;\r\n\r\nexport const Paginationv2 = _Paginationv2;\r\n\r\nexport const Field2 = _Field2;\r\nexport const Dropdown = _Dropdown;\r\nexport const MultiSelect = _MultiSelect;\r\nexport const DropdownItem = _DropdownItem;\r\n\r\nexport const closeModal = _closeModal;\r\nexport const Modal = _Modal;\r\n\r\nexport const modeller = _modeller;\r\nexport const ModellerTable = _ModellerTable;\r\nexport const ModellerForm2 = _ModellerForm2;\r\n\r\n\r\n\r\nexport const _React = React;\r\n"],"names":["Loading","React","fill","stroke","strokeDasharray","strokeWidth","strokeLinecap","TableColumn","name","label","options","headerContent","cellContent","headerStyles","cellStyles","cellClick","Table","props","columns","filter","x","rows","rowStyles","rowClasses","cellClasses","map","column","i","headerClick","row","rowContent","rowClick","j","event","TableContentRow","Function","loggerService","error","DropdownItem","value","Dropdown","button","useRef","useState","active","updateActive","query","updateQuery","hasFocus","updateHasFocus","location","Error","placeholder","Array","nonOptions","length","warn","toLowerCase","includes","hasReset","unshift","colour","initials","selectedIndex","reduce","a","b","required","disabled","toggleActive","selectOption","option","onChange","current","focus","dropdownConductSearch","timeout","clearTimeout","setTimeout","keyPressed","key","which","target","nodeName","noLabel","hasSearch","undefined","multiSelectConductSearch","allOptions","updateOptions","newOptions","MultiSelect","input","values","index","push","splice","JSON","stringify","updateParent","e","stopPropagation","sizeEitherSide","generatePages","total","resultsPerPage","currentPage","list","end","Math","ceil","find","resultsPerPageOptions","resultsPerPageOptionsForDropdown","toString","Paginationv2","parseInt","_inheritence","_resultsPerPage","changePage","page","changeResultsPerPage","resultsPer","minWidth","width","WarningMessage","message","Field2","type","className","isTextarea","isSelect","valid","updateValue","newValue","checked","fieldProps","files","image","renderString","closeModal","update","Modal","state","full","extraClasses","closeOnClickOnBackground","isFull","checkState","children","ModellerTable","model","errorLocation","modeller","Modeller","extendColumns","newContext","aliases","getAliases","getOptions","Object","keys","hide","overwrites","reverse","forEach","tableColumn","outgoingProps","isRequired","field","validators","rules","not","baseField","alias","formValues","currentFormObject","validChecks","extraProps","valueFromOptions","assign","updateFormValues","generateField","fields","propertyOptions","Single","contextOptions","context","Date","y","ModellerForm2","form","goError","footerContent","submitLabel","cancel","loading","structure","setValidChecks","onSubmit","preventDefault","newValidChecks","validation2","topContent","_Loading","_Table","_TableColumn","_TableContentRow","_Paginationv2","_Field2","_Dropdown","_MultiSelect","_DropdownItem","_closeModal","_Modal","_modeller","_ModellerTable","_ModellerForm2","_React"],"mappings":"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"}